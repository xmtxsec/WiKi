# 遍历整个列表

经常需要遍历列表的所有元素，对每个元素执行相同的操作。

需要对列表中的每个元素都执行相同的操作时，**可使用Python中的`for`循环。**

```python
names = ['Tom','Bob','Jon']
for name in names:
    print(name + "，我想邀请你们共进晚餐。")
```

```
Tom，我想邀请你们共进晚餐。
Bob，我想邀请你们共进晚餐。
Jon，我想邀请你们共进晚餐。
```

循环这种概念很重要，因为它是让计算机自动完成重复工作的常见方式之一。



Python根据缩进来判断代码行与前一个代码行的关系。在前面的示例中，共进晚餐显示消息的代码行是for循环的一部分，因为它们缩进了。



## 练习

1、想出至少三种你喜欢的比萨，将其名称存储在一个列表中，再使用 for循环将每种比萨的名称都打印出来。

- 修改这个 for 循环，使其打印包含比萨名称的句子，而不仅仅是比萨的名称。对于每种比萨，都显示一行输出，如“I like pepperoni  pizza”。
- 在程序末尾添加一行代码，它不在 for 循环中，指出你有多喜欢比萨。输出应包含针对每种比萨的消息，还有一个总结性句子，如“I really love pizza!”。

```python
pizzas = ['奥尔良披萨','水果披萨','烤肠披萨']
for pizza in pizzas:
    print("我喜欢" + pizza + "。")
print("我非常喜欢吃披萨。")
```

运行结果

```
我喜欢奥尔良披萨。
我喜欢水果披萨。
我喜欢烤肠披萨。
我非常喜欢吃披萨。
```



# 创建数值列表

Python函数`range()`让你能够轻松地生成一系列的数字。

```python
for i in range(1,5):
    print(i)
```

```
1
2
3
4
```

函数`range()`让Python从你指定的第一个值开始数，并在到达你指定的第二个值后停止，因此输出不包含第二个值（这里为5）。
要打印数字1~5，需要使用`range(1,6)`



要创建数字列表，可使用函数`list()`将`range()`的结果直接转换为列表。

```python
number = list(range(1,5))
print(number)
```

```
[1, 2, 3, 4]
```



使用函数range()时，还可指定步长。例如，下面的代码打印1~10内的偶数

```python
number = list(range(2,11,2))
print(number)
```

```
[2, 4, 6, 8, 10]
```



## 对数字列表执行简单的统计计算

列表最小值：`min()`

列表最大值：`max()`

列表和：`sum()`

```python
number = list(range(2,11,2))
print("最小值：" + str(min(number)))
print("最大值：" + str(max(number)))
print("和：" + str(sum(number)))
```

```
最小值：2
最大值：10
和：30
```



## 列表解析

列表解析将for循环和创建新元素的代码合并成一行，并自动附加新元素。

```python
numbers = [number ** 2 for number in range(1,11)]
print(numbers)
```

```
[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```



## 练习

1、使用一个 for 循环打印数字 1~20（含）。

```python
for number in range(1,21):
    print(number)
```

运行结果

```
1
2
······
20
```



2、创建一个列表，其中包含数字 1~1 000 000，再使用一个 for 循环将这些数字打印出来（如果输出的时间太长，按 Ctrl + C 停止输出，或关闭输出窗口）。

```python
numbers = list(range(1,1000001))
for number in numbers:
    print(number)
```

运行结果

```
1
2
······
1000000
```



3、创建一个列表，其中包含数字 1~1 000 000，再使用`min()`和 `max()`核实该列表确实是从 1 开始，到 1 000 000 结束的。另外，对这个列表调用函数 `sum()`，看看 Python 将一百万个数字相加需要多长时间。

```python
numbers = list(range(1,1000001))
print(min(numbers))
print(max(numbers))
print(sum(numbers))
```

运行结果

```
1
1000000
500000500000
```



4、通过给函数 range()指定第三个参数来创建一个列表，其中包含 1~20 的奇数；再使用一个 for 循环将这些数字都打印出来。

```python
numbers = list(range(1,11,2))
for number in numbers:
    print(number)
```

运行结果

```
1
3
5
7
9
```



5、创建一个列表，其中包含 3~30 内能被 3 整除的数字；再使用一个 for循环将这个列表中的数字都打印出来。

```python
numbers = list(range(3,31,3))
for number in numbers:
    print(number)
```

运行结果

```
3
6
9
12
15
18
21
24
27
30
```



6、将同一个数字乘三次称为立方。例如，在 Python 中，2 的立方用 2**3表示。请创建一个列表，其中包含前 10 个整数（即 1~10）的立方，再使用一个 for 循环将这些立方数都打印出来。

```python
numbers = [number ** 3 for number in range(1,11)]
for number in numbers:
    print(number)
```

运行结果

```
1
8
27
64
125
216
343
512
729
1000
```



7、使用列表解析生成一个列表，其中包含前 10 个整数的立方。

```python
numbers = [number ** 3 for number in range(1,11)]
print(numbers)
```

运行结果

```
[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]
```



# 切片

处理列表的部分元素Python称之为切片。

创建切片，需要指定要使用的第一个元素和最后一个元素的索引。

与函数`range()`一样，Python在到达你指定的第二个索引前面的元素后停止。

如果没有指定第一个索引，Python将自动从列表开头开始

如果没有指定第二个索引，Python将从第一个索引开始输出到最后

```python
names = ['Tom','Bob','Jon','Mike','Lily','Sunny','Jack']
print(names[1:4])
print(names[:4])
print(names[4:])
```

```
['Bob', 'Jon', 'Mike']
['Tom', 'Bob', 'Jon', 'Mike']
['Lily', 'Sunny', 'Jack']
```



## 遍历切片

如果要遍历列表的部分元素，可在for循环中使用切片。

```python
names = ['Tom','Bob','Jon','Mike','Lily','Sunny','Jack']
for name in names[1:4]:
    print(name)
```

```
Bob
Jon
Mike
```



## 复制列表

复制列表，可创建一个包含整个列表的切片，方法是同时省略起始索引和终止索引（[:]）。
这让Python创建一个始于第一个元素，终止于最后一个元素的切片，即复制整个列表。

```python
names = ['Tom','Bob','Jon','Mike','Lily','Sunny','Jack']
names_two = names[:]
print(names_two)
```

```
['Tom', 'Bob', 'Jon', 'Mike', 'Lily', 'Sunny', 'Jack']
```



## 练习

1、选择你在本章编写的一个程序，在末尾添加几行代码，以完成如下任务。

- 打印消息“The first three items in the list are:”，再使用切片来打印列表的前三个元素。
- 打印消息“Three items from the middle of the list are:”，再使用切片来打印列表中间的三个元素。
- 打印消息“The last three items in the list are:”，再使用切片来打印列表末尾的三个元素。

```python
numbers = [number ** 3 for number in range(1,11)]
print(numbers)
print("The first three items in the list are:" + str(numbers[:3]))
print("Three items from the middle of the list are:" + str(numbers[2:5]))
print("The last three items in the list are:" + str(numbers[-3:]))
```

运行结果

```
[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]
The first three items in the list are:[1, 8, 27]
Three items from the middle of the list are:[27, 64, 125]
The last three items in the list are:[512, 729, 1000]
```



# 元组

Python将不能修改的值称为不可变的，而不可变的列表被称为元组。

元组看起来犹如列表，但使用圆括号而不是方括号来标识。定义元组后，就可以使用索引来访问其元素，就像访问列表元素一样。

```python
names = ('Tom','Bob','Jon','Mike','Lily','Sunny','Jack')
print(names)

```

```
('Tom', 'Bob', 'Jon', 'Mike', 'Lily', 'Sunny', 'Jack')
```



## 遍历元组中的所有值

像列表一样，也可以使用for循环来遍历元组中的所有值

```python
names = ('Tom','Bob','Jon','Mike','Lily','Sunny','Jack')
for name in names:
    print(name)
```

```
Tom
Bob
Jon
Mike
Lily
Sunny
Jack
```



## 修改元组变量

虽然不能修改元组的元素，但可以给存储元组的变量赋值。

```python
names = ('Tom','Bob','Jon','Mike','Lily','Sunny','Jack')
print(names)
names = ('Jon','Mike','Lily')
print(names)
```

```
('Tom', 'Bob', 'Jon', 'Mike', 'Lily', 'Sunny', 'Jack')
('Jon', 'Mike', 'Lily')
```



## 练习

1、有一家自助式餐馆，只提供五种简单的食品。请想出五种简单的食品，并将其存储在一个元组中。

- 使用一个 for 循环将该餐馆提供的五种食品都打印出来。

  ```python
  foods = ('蚂蚁上树','爆炒猪肝','粉蒸肉','辣子鸡','夫妻肺片')
  for food in foods:
      print(food)
  ```

  ```
  蚂蚁上树
  爆炒猪肝
  粉蒸肉
  辣子鸡
  夫妻肺片
  ```

  

-  尝试修改其中的一个元素，核实 Python 确实会拒绝你这样做。

  ```python
  foods = ('蚂蚁上树','爆炒猪肝','粉蒸肉','辣子鸡','夫妻肺片')
  for food in foods:
      print(food)
  foods[1] = "青椒炒肉"
  print(foods)
  ```

  ```
  蚂蚁上树
  爆炒猪肝
  粉蒸肉
  辣子鸡
  夫妻肺片
  Traceback (most recent call last):
    File "F:/python/study/study.py", line 4, in <module>
      foods[1] = "青椒炒肉"
  TypeError: 'tuple' object does not support item assignment
  ```

  

-  餐馆调整了菜单，替换了它提供的其中两种食品。请编写一个这样的代码块：给元组变量赋值，并使用一个 for 循环将新元组的每个元素都打印出来。

  ```python
  foods = ('蚂蚁上树','爆炒猪肝','粉蒸肉','辣子鸡','夫妻肺片')
  print(foods)
  foods = ('蚂蚁上树','青椒炒肉','粉蒸肉','麻辣兔头','夫妻肺片')
  for food in foods:
      print(food)
  ```

  ```
  ('蚂蚁上树', '爆炒猪肝', '粉蒸肉', '辣子鸡', '夫妻肺片')
  蚂蚁上树
  青椒炒肉
  粉蒸肉
  麻辣兔头
  夫妻肺片
  ```