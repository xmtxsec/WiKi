# 一、网际协议 IP

网际协议IP是TCP/IP体系中两个最主要的协议之一，也是最重要的互联网标准协议之一。严格来说，这里所讲的IP其实是IP的第4个版本，应记为IPv4。但在讲述IP协议的各种原理时，往往不在IP后面加上版本号。

与IP协议配套使用的还有三个协议:

- 地址解析协议ARP (Address Resolution Protocol)
- 网际控制报文协议ICMP (Internet Control Message Protocol)
- 网际组管理协议IGMP (Internet Group Management Protocol)

![image-20230204214734983](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/image-20230204214734983.png)



从一般的概念来讲，将网络互相连接起来要使用一些中间设备。根据中间设备所在的层次，可以有以下四种不同的中间设备:

1. 物理层使用的中间设备叫做**转发器**(repeater)。
2. 数据链路层使用的中间设备叫做**网桥**或**桥接器**(bridge)。
3. 网络层使用的中间设备叫做**路由器**(router)”。
4. 在网络层以上使用的中间设备叫做**网关**(gateway)。



## 1.1、IP 地址

1. IP地址及其表示方法
整个的互联网就是一个单一的、抽象的网络。IP地址就是给互联网上的每一台主机
(或路由器)的每一个接口分配一个在全世界范围内是唯一- 的32位的标识符。IP 地址的结
构使我们可以在互联网上很方便地进行寻址。IP地址现在由互联网名字和数字分配机构
ICANN (Internet Corporation for Assigned Names and Numbers)进行分配。
IP地址的编址方法共经过了三个历史阶段。
(1) 分类的IP地址。这是最基本的编址方法，在1981年就通过了相应的标准协议。
(2)子网的划分。这是对最基本的编址方法的改进，其标准RFC 950在1985年通过。
(3)构成超网。这是比较新的无分类编址方法。1993 年提出后很快就得到推广应用。.
本节只讨论最基本的分类的IP地址。后两种方法将在4.3节中讨论。
所谓“分类的IP地址”就是将IP地址划分为若千个固定类，每-类地址都由两个固定
长度的字段组成，其中第一个字段是网络号(net-id)，它标志主机(或路由器)所连接到的网
络。一个网络号在整个互联网范围内必须是唯一-的。第二个字段是主机号(host-id)，它标志





























