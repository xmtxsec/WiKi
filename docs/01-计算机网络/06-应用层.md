# 一、域名系统 DNS

**域名系统DNS** (Domain Name System)是互联网使用的命名系统，用来把便于人们使用的机器名字转换为IP地址。域名系统其实就是名字系统。

互联网的域名系统DNS被设计成为一个联机分布式数据库系统，并采用客户服务器方式。DNS使大多数名字都在本地进行解析，仅少量解析需要在互联网上通信，因此DNS系统的效率很高。由于**DNS是分布式系统，即使单个计算机出了故障，也不会妨碍整个DNS系统的正常运行。**域名到IP地址的解析是由分布在互联网上的许多域名服务器程序(可简称为域名服务器)共同完成的。域名服务器程序在专设的结点上运行，而人们也常把运行域名服务器程序的机器称为域名服务器。



## 1.1、互联网的域名结构

互联网采用了层次树状结构的命名方法。采用这种命名方法，任何一个连接在互联网上的主机或路由器，都有一个唯一的层次结构的名字，即域名(domain name)。 这里，“域”(domain)是名字空间中一个可被管理的划分。域还可以划分为子域，而子域还可继续划分为子域的子域，这样就形成了顶级域、二级域、三级域，等等。

![image-20230216145745058](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161457096.png)



## 1.2、域名服务器

每一个域名服务器都只对域名体系中的一部分进行管辖。根据域名服务器所起的作用，可以把域名服务器划分为以下四种不同的类型：

1. **根域名服务器**

   根域名服务器是最高层次的域名服务器，也是最重要的域名服务器。所有的根域名服务器都知道所有的顶级域名服务器的域名和IP 地址。不管是哪一个本地域名服务器，若要对互联网上任何一个域名进行解析(即转换为IP地址)，只要自己无法解析，就首先要求助于根域名服务器。假定所有的根域名服务器都瘫瘓了，那么整个互联网中的DNS系统就无法工作。

2. **项级域名服务器**

   项级域名服务器(即TLD服务器)，这些域名服务器负责管理在该顶级域名服务器注册的所有二级域名。当收到DNS查询请求时，就给出相应的回答(可能是最后的结果，也可能是下一步应当找的域名服务器的IP地址)。

3. **权限域名服务器**

   权限域名服务器，当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的DNS客户，下一步应当找哪一个权限域名服务器。

4. **本地域名服务器**

   当一台主机发出DNS查询请求时，这个查询请求报文就发送给本地域名服务器。由此可看出本地域名服务器的重要性。每一个互联网服务提供者ISP， 或一个大学，甚至一个大学里的系，都可以拥有一个本地域名服务器，这种域名服务器有时也称为默认域名服务器。本地域名服务器离用户较近，一般不超过几个路由器的距离。当所要查询的主机也属于同一个本地ISP时，该本地域名服务器立即就能将所查询的主机名转换为它的IP地址，而不需要再去询问其他的域名服务器。



## 1.3、域名解析的方法

**主机向本地域名服务器的查询一般都是采用递归查询。**

如果主机所询问的本地域名服务器不知道被查询域名的IP地址，那么本地域名服务器就以DNS客户的身份，向其他根域名服务器继续发出查询请求报文(即替该主机继续查询)，而不是让该主机自己进行下一步的查询。因此，递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。

![image-20230216150242609](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161502653.png)



**本地域名服务器向根域名服务器的查询通常是采用迭代查询。**

当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地域名服务器:“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询(而不是替本地域名服务器进行后续的查询)。根域名服务器通常是把自己知道的顶级域名服务器的IP 地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。顶级域名服务器在收到本地域名服务器的查询请求后，要么给出所要查询的IP地址，要么告诉本地域名服务器下一步应当向哪一个权限域名服务器进行查询，本地域名服务器就这样进行迭代查询。最后，知道了所要解析的域名的IP地址，然后把这个结果返回给发起查询的主机。当然，本地域名服务器也可以采用递归查询，这取决于最初的查询请求报文的设置是要求使用哪一种查询方式。

![image-20230216150455313](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161504356.png)



## 1.4、域名到IP地址的解析过程

1. 当某一个应用进程需要把主机名解析为IP地址时，该应用进程就调用解忻程序，并成为DNS的一个客户，把待解析的域名放在DNS请求报文中，以UDP用户数据报方式发给本地域名服务器(使用UDP是为了减少开销)。
2. 本地域名服务器在查找域名后，把对应的IP地址放在回答报文中返回。
3. 应用进程获得目的主机的IP地址后即可进行通信。
4. 若本地域名服务器不能回答该请求，则此域名服务器就暂时成为DNS中的另一个客户，并向其他域名服务器发出查询请求这种过程直至找到能够回答该请求的域名服务器为止。

------



# 二、文件传输协议

## 2.1、FTP 

**文件传输协议FTP** (File Transfer Protocol) 是互联网上使用得最广泛的文件传输协议。FTP提供交互式的访问，允许客户指明文件的类型与格式，并允许文件具有存取权限(如访问文件的用户必须经过授权，并输入有效的口令)。



**文件传送协议FTP只提供文件传送的一些基本的服务，它使用TCP可靠的运输服务。**FTP的主要功能是减少或消除在不同操作系统下处理文件的不兼容性。

一个FTP服务器进程可同时为多个客户进程提供服务。FTP的服务器进程由两大部分组成: 一个主进程，负责接受新的请求;另外有若干个从属进程，负责处理单个请求。

主进程的工作步骤如下:

1. 打开熟知端口(端口号为21),使客户进程能够连接上。
2. 等待客户进程发出连接请求。
3. 启动从属进程处理客户进程发来的请求。从属进程对客户进程的请求处理完毕后即终止，但从属进程在运行期间根据需要还可能创建其他一些子进程。
4. 回到等待状态，继续接受其他客户进程发来的请求。主进程与从属进程的处理是并发进行的。



在进行文件传输时，FTP的客户和服务器之间要建立两个并行的TCP连接：“控制连接”和“数据连接”。

控制连接在整个会话期间一直保持打开，FTP客户所发出的传送请求，通过控制连接发送给服务器端的控制进程，但控制连接并不用来传送文件。实际用于传输文件的是“数据连接”。

服务器端的控制进程在接收到FTP客户发送来的文件传输请求后就创建“数据传送进程”和“数据连接”，用来连接客户端和服务器端的数据传送进程。数据传送进程实际完成文件的传送，在传送完毕后关闭“数据传送连接”并结束运行。由于FTP使用了一个分离的控制连接，因此FTP的控制信息是带外(out of band)传送的。

当客户进程向服务器进程发出建立连接请求时，要寻找连接服务器进程的熟知端口21，同时还要告诉服务器进程自己的另一个端口号码，用于建立数据传送连接。接着，服务器进程用自己传送数据的熟知端口20 与客户进程所提供的端口号建立数据传送连接。由于FTP使用了两个不同的端口号，所以数据连接与控制连接不会发生混乱。



## 2.2、TFTP

**TCP/IP协议族中还有一个简单文件传送协议TFTP** (Trivial File Transfer Protocol)， 它是一个很小且易于实现的文件传送协议。



虽然TFTP也使用客户服务器方式，但它使用UDP数据报，因此TFTP需要有自己的差错改正措施。TFTP只支持文件传输而不支持交互。TFTP没有一个庞大的命令集，没有列目录的功能，也不能对用户进行身份鉴别。



TFTP的主要优点有两个。

1. FTP可用于UDP环境。
2. TFTP代码所占的内存较小。



TFTP的主要特点是：

1. 每次传送的数据报文中有512字节的数据，但最后一次可不足 512字节。
2. 数据报文按序编号，从1开始。
3. 支持ASCII码或二进制传送。
4. 可对文件进行读或写。
5. 使用很简单的首部。



TFTP发送完一个文件块后就等待对方的确认，确认时应指明所确认的块编号。发完数据后在规定时间内收不到确认就要重发数据PDU。发送确认PDU的一方若在规定时间内收不到下一个文件块，也要重发确认PDU。这样就可保证文件的传送不致因某一个数据报的丢失而告失败。

在一开始工作时。TFTP客户进程发送一个读请求报文或写请求报文给TFTP服务器进程，其熟知端口号码为69。TFTP服务器进程要选择一个新的端口和TFTP客户进程进行通信。若文件长度恰好为512字节的整数倍，则在文件传送完毕后，还必须在最后发送一个只含首部而无数据的数据报文。若文件长度不是512字节的整数倍，则最后传送数据报文中的数据字段一定不满 512字节，这正好可作为文件结束的标志。

------



# 三、远程终端协议 TELNET

TELNET是一个简单的远程终端协议， 它也是互联网的正式标准。用户用TELNET就可在其所在地通过TCP连接注册(即登录)到远地的另一台主机上(使用主机名或IP地址)。TELNET能将用户的击键传到远地主机，同时也能将远地主机的输出通过TCP连接返回到用户屏幕。



TELNET也使用客户-服务器方式。在本地系统运行TELNET客户进程，而在远地主机则运行TELNET服务器进程。和FTP的情况相似，服务器中的主进程等待新的请求，并产生从属进程来处理每一个连接。

![image-20230216154452900](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161544943.png)



------



# 四、超文本传输协议 HTTP

## 4.1、HTTP和HTTPS

**HTTP协议**

HTTP协议是面向事务的(transaction-oriented)应用层协议，它是万维网上能够可靠地交换文件(包括文本、声音、图像等各种多媒体文件)的重要基础。HTTP不仅传送完成超文本跳转所必需的信息，而且也传送任何可从互联网上得到的信息，如文本、超文本、声音和图像等。

HTTP协议目前最新版本是1.1，HTTP是一种无状态的应用层协议。无状态是指Web浏览器与Web服务器之间不需要建立持久的连接。HTTP请求只能由客户端发起，而服务器不能主动向客户端发送数据。



**HTTPS协议**

HTTPS（全称：HyperText Transfer Protocol over SecureSocket Layer），是以安全为目标的HTTP通道，在HTTP的基础上通过传输加密和身份认证保证了传输过程中的安全性。



**HTTP和HTTPS的区别**

HTTPS的安全基础是SSL，即在HTTP下加入SSL层。HTTPS通过安全传输机制进行转送数据，这种机制可以保护网络传送的所有数据的隐秘性和完整性，可以降低非侵入性拦截攻击的可能性。

两者的主要区别：

- HTTP是超文传输协议，信息是明文传输，HTTPS是具有安全性的SSL加密传输协议。
- HTTP和HTTPS的连接方式不同，HTTP采用80端口连接，而HTTPS采用443端口。
- HTTPS协议需要用到ca申请证书。HTTP不需要。
- HTTP连接相对简单是无状态的，而HTTPS协议是由HTTP+SSL协议构建的可进行加密传输、身份认证的网络协议，相对来说比HTTP更加安全。



## 4.2、HTTP 协议的工作原理

在用户访问 [http://www.baidu.com/index.html](http://www.baidu.com/index.html) 的链接后，浏览器和Web服务器执行以下动作:

1.  浏览器分析超链接中的URL 
2.  浏览器向DNS请求解析www.baidu.com的IP地址 
3.  DNS将解析出的IP地址220.181.38.148返回浏览器 
4.  浏览器与服务器建立连接(80端口) 
5.  浏览器请求文档: GET /index.html 
6.  服务器给出响应，将文档index.html发送给浏览器 
7.  释放TCP连接 
8.  浏览器显示index.htmI中的内容 

![](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161610637.png)



**持久性链接与非持久性链接**

1. **持久性链接**

   即在一个连接中，可以进行多次文档的请求和响应。服务器在发送完响应后，并不立即释放连接，浏览器可以使用该连接继续请求其他文档。连接保持的时间可以由双方进行协商。 

2. **非持久性链接**

   即浏览器每请求一个Web文档， 就创建一个新的连接，当文档传输完毕后，连接就立刻被释放。 

   - HTTP 0.9、HTTP 1.0采用此连接方式。
   - 对于请求的Web页中包含多个其他文档对象(如图像、声音、视频等)的链接的情况，由于请求每个链接对应的文档都要创建新连接,所以效率低下。



## 4.3、HTTP 报文分析

**1. 请求报文**

HTTP请求包含三个部分，分别是请求行（请求方法），请求头（消息报头）和请求正文。

![](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161612263.png)



请求头只出现在HTTP请求中

1.  **Host**：主要用于指定被请求资源的主机和端口号 
2.  **User-Agent**：允许客户端将他的操作系统、浏览器、和其他属性告诉服务器。 
3.  **Referer**：代表当前访问的URl的上一个URL。即用户是从什么地方来到本页面。 
4.  **Cookie**：常用来表示请求者身份。 
5.  **data**：请求被发送时的日期和时间。 
6.  **Range**：请求实体的部分内容，多线程下载一定会用到此请求头。 
7.  **x-forwar-for**：XXF头，代表请求端的IP，可以有多个。 
8.  **Accept**：指定客户端接受哪些MIME类型的消息。 
9.  **Accept-Charset**：指定客户端接受的字符集。 
10.  **Accept-Encoding**：客户端能处理的页面编码方法，如gzip。 
11.  **Accept-Language**：客户端能处理的自然语言。 



**2. 响应报文**

HTTP响应也由三部分组成，分别是响应行、响应头（消息报头）和响应正文（消息主题）。

![](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161613255.png)



响应头是服务器根据请求向客户端发送的HTTP头

1.  **Server**：服务器所使用的Web服务器名称。 
2.  **Set-Cokie**：向客户端设置Cookie。 
3.  **Last-Modified**：资源最后修改时间 
4.  **Location**：告诉浏览器区访问哪个页面，通常和302状态码一起使用。 
5.  **Refresh**：告诉浏览器定时刷新浏览器。 



**请求和响应消息都可以传递一个实体头。实体头定义了关于实体正文和请求所标识的资源的元信息。**

1.  **Content-Type**：向接收方指示实体的介质类型。 
2.  **Content-Encoding**：媒体类型的修饰符，它的值指示了已经被应用到实体正文的附加内容的编码。 
3.  **Content-Length**：指明实体正文的长度，以字节方式存储的十进制数字来表示。 
4.  **Last-Modified**：指示资源最后修改日期和时间。 



## 4.4、HTTP常见请求方法

1.  **GET：**用于获取请求页面的指定消息（以实体的形式）。 
2.  **HEAD：**除了服务器不能在响应里返回消息主题外。其他的都与GET方法相同。 
3.  **POST：**POST方法也与GET方法相似，但是GET方法没有请求内容，而POST是有请求内容的。POST多用于向服务器发送大量数据。 
4.  **PUT：**请求服务器把请求中的实体存储在请求资源下。如果请求资源已经在服务器中存在。那么将会用此请求中的数据替换原先的数据。 
5.  **DELETE:**请求源服务器删除请求的指定资源。（一般会关闭此方法，因为客户端可以进行文件删除操作） 
6.  **TRACE：**激发一个远程的应用层的请求消息回路，也就是回显服务器收到的请求。 
7.  **CONNECT：**动态切换的隧道的代理。 
8.  **OPTIONS：**请求获得有由URL标识的资源在请求/响应的通信过程中可以使用的功能选项。 




## 4.5、HTTP状态码

HTTP协议中的状态码是由三位数字组成，第一位数字代表响应类别：

- **1xx：**表示请求已被成功接收。（100~101）
- **2xx：**服务器成功处理请求。（200~206）
- **3xx：**重定向，代表访问资源已移动，并提供新资源地址位置。（300~305）
- **4xx：**客户端错误代码。（400~415）
- **5xx：**服务器内部错误。（500~505）

- **3xx：**重定向，代表访问资源已移动，并提供新资源地址位置。（300~305）
- **4xx：**客户端错误代码。（400~415）
- **5xx：**服务器内部错误。（500~505）



**常见的状态码描述：**

**200：**客户端请求成功，是最常见的状态。

**204：**请求已经成功处理，但是没有内容返回。

**206：**服务器已经完成了部分GET请求。

**301：**永久重定向，资源已永久分配新URL。

**302：**临时重定向，资源已临时分配新URL。

**303：**临时重定向，期望使用GET定向获取。

**304：**发送的附带条件请求未满足。

**307：**临时重定向，POST不会变成GET。

**404：**请求资源不存在，是最常见的状态。

**400：**客户端请求有语法错误，不能被服务器所理解。

**401：**请求未经授权。

**403：**服务器收到请求，但是拒绝提供服务。

**500：**服务器内部错误，是最常见的状态。

**503：**服务器当前不能处理客户端的请求，一段时间后可能恢复正常。

详情访问：[https://www.cnblogs.com/xflonga/p/9368993.html](https://www.cnblogs.com/xflonga/p/9368993.html)

------




## 4.6、HTTP协议中的URL

URL是Uniform Resource Location的缩写，译为“统一资源定位符”。URL是从互 联网上得到的资源的位置和访问方法的一种简洁的表示，是互联网上标准资源的地址。互联网上的每个文件都有一个唯一的URL。

![](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302161623667.png)



**URL中的协议**

1.  ldap-轻型目录访问协议搜索 
2.  http-超文本传输协议 
3.  file-当地电脑或网上分享的文件 
4.  https-用安全套接字层传送的超文本传输协议 
5.  news-Usenet新闻组 
6.  ftp-文件传输协议 
7.  gopher-Gopher协议 
8.  mailto-电子邮件地址 
9.  telnet-Telnet协议 



**URL编码**

1.  URL只能使用ASCI字符集来通过因特网进行发送。 
2.  URL编码使用"%"其后跟随两位的十六进制数来替换非ASCII字符。 
3.  URL不能包含空格。URL编码通常使用+来替换空格。 
4.  只有字母和数字[0-9a-zA-Z]、一些特殊符号“$-_ .+!*(),"[不包括双引号]、 以及某些保留字，才可以不经过编码直接用于URL。 



## 4.7、同源策略

同源策略（SOP）是一种约定，是浏览器的核心也是最基本的安全功能，若缺少了同源策略那么浏览器的正常功能会受到影响。同源策略是浏览器的行为，是为了保护本地的数据不被Javascript代码获取回来的数据污染。如果没有同源设计策略，那么在A.com网站加载过的js脚本，就能够在没有加载过这个脚本的B.com.上的页面随意执行并被读取，这就可能造成页面混乱、被破坏以及数据窃取等不安全的行为，比如前段跨域安全。

所谓同源是指:域名，协议，端口号三者相同。

下表给出了与 URL `http://xmtxsec.top/111/index.html` 的源进行对比的示例:

| **URL**                                                      | **结果** | **原因**                           |
| ------------------------------------------------------------ | -------- | ---------------------------------- |
| [http://xmtxsec.top/bbb/index.html](http://xmtxsec.top/bbb/index.html) | 同源     | 只有路径不同                       |
| [http://xmtxsec.top/aaa/bbb/index.html](http://xmtxsec.top/aaa/bbb/index.html) | 同源     | 只有路径不同                       |
| [https://xmtxsec.top/index.html](https://xmtxsec.top/index.html) | 失败     | 协议不同                           |
| [http://xmtxsec.top:81/aaa/index.html](http://xmtxsec.top:81/aaa/index.html) | 失败     | 端口不同 ( `http://` 默认端口是80) |
| [http://xmtx.top/aaa/index.html](http://xmtx.top/aaa/index.html) | 失败     | 主机不同                           |

------



# 五、简单邮件传送协议 SMTP

SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息。由于SMTP使用客户服务器方式，因此负责发送邮件的SMTP进程就是SMTP 客户，而负责接收邮件的SMTP进程就是SMTP服务器。至于邮件内部的格式，邮件如何存储，以及邮件系统应以多快的速度来发送邮件，SMTP 也都未做出规定。

SMTP规定了14 条命令和21种应答信息。每条命令用几个字母组成，而每一种应答信息一般只有一行信息，由一个3位数字的代码开始，后面附上(也可不附上)很简单的文字说明。

发件人的邮件送到发送方邮件服务器的邮件缓存后，SMTP客户就每隔一定时间对邮件缓存扫描一次。如发现有邮件，就使用SMTP的熟知端口号25与接收方邮件服务器的SMTP服务器建立TCP连接。在连接建立后，接收方SMTP服务器要发出“220 Service ready" (服务就绪)。然后SMTP客户向SMTP服务器发送HELO命令，附上发送方的主机名。SMTP服务器若有能力接收邮件，则回答:“250 OK”，表示已准备好接收。若SMTP服务器不可用，则回答“421 Service not available" 。

SMTP不使用中间的邮件服务器。不管发送方和接收方的邮件服务器相隔有多远，不管在邮件传送过程中要经过多少个路由器，TCP连接总是在发送方和接收方这两个邮件服务器之间直接建立。当接收方邮件服务器出故障而不能工作时，发送方邮件服务器只能等待一段时间后再尝试和该邮件服务器建立TCP连接，而不能先找一个中间的邮件服务器建立TCP连接。



## 5.1、邮件读取协议POP3和IMAP

POP3也使用客户服务器的工作方式。在接收邮件的用户计算机中的用户代理必须运行POP3客户程序，而在收件人所连接的ISP的邮件服务器中则运行POP3服务器程序。这个ISP 的邮件服务器还必须运行SMTP服务器程序，以便接收发送方邮件服务器的SMTP客户程序发来的邮件。

POP3服务器只有在用户输入鉴别信息(用户名和口令)后，才允许对邮箱进行读取。POP3协议的一个特点就是只要用户从POP3 服务器读取了邮件，POP3 服务器就把该邮件删除。为了解决这一问题，POP3进行了一些功能扩充，其中包括让用户能够事先设置邮件读取后仍然在POP3服务器中存放的时间。



另一个读取邮件的协议是网际报文存取协议IMAP。IMAP和POP都按客户服务器方式工作，但它们有很大的差别。

在使用IMAP时，在用户的计算机上运行IMAP客户程序，然后与接收方的邮件服务器上的IMAP服务器程序建立TCP连接。用户在自己的计算机上就可以操纵邮件服务器的邮箱，就像在本地操纵一样，因此IMAP是一个联机协议。当用户计算机上的IMAP客户程序打开IMAP服务器的邮箱时，用户就可看到邮件的首部。若用户需要打开某个邮件，则该邮件才传到用户的计算机上。用户可以根据需要为自己的邮箱创建便于分类管理的层次式的邮箱文件夹，并且能够将存放的邮件从某一个文件夹中移动到另一个文件夹中。用户也可按某种条件对邮件进行查找。在用户未发出删除邮件的命令之前，IMAP服务器邮箱中的邮件一直保存着。

------



# 六、动态主机配置协议 DHCP

**动态主机配置协议**DHCP (Dynamic Host ConfigurationProtocol),它提供了一种机制， 称为即插即用连网(plug: and-play networking)。

这种机制允许一台计算机加入新的网络和获取IP地址而不用手工参与。

DHCP对运行客户软件和服务器软件的计算机都适用。当运行客户软件的计算机移至一个新的网络时，就可使用DHCP获取其配置信息而不需要手工干预。DHCP给运行服务器软件而位置固定的计算机指派一个永久地址，而当这计算机重新启动时其地址不改变。



DHCP使用客户服务器方式。需要IP地址的主机在DHCP客户使用的UDP端口是68，而DHCP服务器使用的UDP端口是67。这两个UDP端口都是熟知端口。



**工作流程**

1. 需要IP地址的主机在启动时就向DHCP服务器广播发送发现报文(将目的IP地址置为全1,即255.255.255.255)，这时该主机就成为DHCP客户。发送广播报文是因为现在还不知道DHCP服务器在什么地方，因此要发现DHCP服务器的IP地址。这台主机目前还没有自己的IP地址，因此它将IP数据报的源IP地址设为全0。这样，在本地网络上的所有主机都能够收到这个广播报文，但只有DHCP服务器才对此广播报文进行回答。
2. DHCP服务器先在其数据库中查找该计算机的配置信息。若找到，则返回找到的信息。若找不到，则从服务器的IP 地址池中取一个地址分配给该计算机。DHCP服务器的回答报文叫做提供报文，表示“提供”了IP地址等配置信息。



DHCP服务器分配给DHCP客户的IP地址是临时的，因此DHCP客户只能在一段有限的时间内使用这个分配到的IP地址。DHCP协议称这段时间为租用期(lease period), 但并没有具体规定租用期应取为多长或至少为多长，这个数值应由DHCP服务器自己决定。

------



# 七、本地文件传输协议 File

File 协议主要用于**访问本地计算机中的文件**，就如同在Windows资源管理器中打开文件一样。



file协议的基本格式

```
file:///文件路径
```



比如需要打开E盘下txt目录中的index.txt，那么在资源管理器或者浏览器地址栏中输入：

```
file:///E:/txt/index.txt
```



用file:///+文件地址，其实等价于文件的地址。即：

```
file:///E:/txt/index.txt
```

等价于

```
E:/txt/index.txt
```



**URI中为什么本地文件file后面跟三个斜杠？**

URI的结构为：

```
scheme:[//[user:password@]host[:port]][/]path[?query][#fragment]
```

如果有host，前面需要加//，因此对于http或https等网络地址来说会写成：

```
https://blog.csdn.net/lishanleilixin/article/category/7191777
```

这样看上去很自然。如果是文件的话，文件没有host，所以中间的host部分就不要了，就变成了:

```
file:///lishanleilixin/article/category/7191777
```

因为如果没有host的话，第一个 [ ] 的内容就不存在了，这种统一的写法有一个标准叫CURIE。



**浏览器通过file:///访问文件和http://访问文件的区别**

file协议只能在本地访问， file无法实现跨域，file协议对应有一个类似http的远程访问，就是ftp协议， 即文件传输协议。本地搭建http服务器开放端口后他人也可以通过http访问到你电脑中的文件，但是file协议做不到。

http访问本地的html文件， 相当于将本机作为了一台http服务器，然后通过主机访问的是你自己电脑上的本地服务器，再通过http服务器去访问你本机的文件资源。断网就打不开了。