# 一、计算机网络体系结构的形成

​		国际标准化组织ISO于1977年成立了专门机构研究如何使不同体系结构的计算机网络都能互联，最终提出了一个试图使各种计算机在世界范围内互连成网的标准框架，即著名的**开放系统互连基本参考模型OSI/RM** (Open Systems Interconnection Reference Model)， 简称为OSI。 

​		OSI/RM是个抽象的概念。在1983年形成了开放系统互连基本参考模型的正式文件，即著名的ISO 7498 国际标准，也就是所谓的
**七层协议的体系结构**。OSI试图达到一种理想境界， 即全球计算机网络都遵循这个统一标准， 因而全球的计算机将能够很方便地进行互连和交换数据。

​		到了20世纪90年代初期，虽然整套的OSI国际标准都已经制定出来了，但由于**基于TCP/IP 的互联网**已抢先在全球相当大的范围成功地运行了，而与此同时却几乎找不到有什么厂家生产出符合OSI标准的商用产品。现今规模最大的、覆盖全球的、基于TCP/IP的互联网并未使用OSI标准。

------



# 二、协议与层次划分

​		在计算机网络中要做到有条不紊地交换数据，就必须遵守一些事先约定好的规则。**这些规则明确规定了所交换的数据的格式以及有关的同步问题。**这些**为进行网络中的数据交换而建立的规则、标准或约定**称为**网络协议(network protocol)**。 网络协议也可简称为协议



网络协议主要由以下三个要素组成:

1. **语法，**即数据与控制信息的结构或格式;
2. **语义，**即需要发出何种控制信息，完成何种动作以及做出何种响应;
3. **同步，**即事件实现顺序的详细说明。



​		协议通常有两种不同的形式。一种是使用便于人来阅读和理解的文字描述。另一种是使用让计算机能够理解的程序代码。这两种不同形式的协议都必须能够对网络上的信息交换过程做出精确的解释。



对于非常复杂的计算机网络协议，其结构应该是层次式的。

1. **各层之间是独立的。**某一层并不需要知道它的下一层是如何实现的，而仅仅需要知
   道该层通过层间的接口(即界面)所提供的服务。
2. **灵活性好。**当任何一层发生变化时(例如由于技术的变化)，只要层间接口关系保
   持不变，则在这层以上或以下各层均不受影响。
3. **结构上可分割开。**各层都可以采用最合适的技术来实现。
4. **易于实现和维护。**这种结构使得实现和调试一个庞大而又复杂的系统变得易于处
   理，因为整个的系统已被分解为若千个相对独立的子系统。
5. **能促进标准化工作。**每一层的功能及其所提供的服务都已有了精确的说明。



​		**计算机网络的各层及其协议的集合就是网络的体系结构(architecture)。**换种说法，计算机网络的体系结构就是这个计算机网络及其构件所应完成的功能的精确定义。

------



# 三、具有五层协议的体系结构

​		**OSI的七层协议体系结构**的概念清楚，理论也较完整，但它既复杂又不实用。**TCP/IP 体系结构**则不同，但它现在却得到了非常广泛的应用。**TCP/IP是一个四层的体系结构**， 它包含应用层、运输层、网际层和网络接口层。不过从实质上讲，TCP/IP 只有最上面的三层，因为最下面的网络接口层并没有什么具体内容。因此**在学习计算机网络的原理时往往采取折中的办法，即综合OSI和TCP/IP的优点，采用一种只有五层协议的体系结构**,这样既简洁又能将概念阐述清楚。

![image-20230202145155124](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302021451178.png)



**1、应用层**

​		应用层是体系结构中的最高层。应用层的任务是**通过应用进程间的交互来完成特定网络应用。**应用层协议定义的是**应用进程间通信和交互的规则。**这里的进程就是指主机中正在运行的程序。对于不同的网络应用需要有不同的应用层协议。在互联网中的应用层协议很多，如域名系统DNS，支持万维网应用的HTTP 协议，支持电子邮件的SMTP协议，等等。我们把应用层交互的数据单元称为报文(message)。



**2、运输层**

​		运输层的任务就是负责向**两台主机中进程之间的通信提供通用的数据传输服务。**应用进程利用该服务传送应用层报文。由于一台主机可同时运行多个进程，因此**运输层有复用和分用的功能**。复用就是多个应用层进程可同时使用下面运输层的服务，分用和复用相反，是运输层把收到的信息分别交付上面应用层中的相应进程。

运输层主要使用以下两种协议:

- **传输控制协议 TCP**提供面向连接的、 可靠的数据传输服务，其数据传输的单位是报文段。
- **用户数据报协议UDP**提供无连接的、尽最大努力的数据传输服务(不保证数据传输的可靠性)，其数据传输的单位是用户数据报。



**3、网络层**

​		网络层负责**为分组交换网上的不同主机提供通信服务。在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组或包进行传送。**在TCP/P体系中，由于网络层使用IP协议，因此分组也叫做IP数据报，或简称为数据报。网络层的另一个任务就是要选择合适的路由，使源主机运输层所传下来的分组，能够通过网络中的路由器找到目的主机。



**4、数据链路层**

​		数据链路层常简称为链路层。两台主机之间的数据传输，总是在一段一段的链路上传送的，这就需要使用专门的链路层的协议。在两个相邻结点之间传送数据时，**数据链路层将网络层交下来的IP 数据报组装成帧，在两个相邻结点间的链路上传送帧。每一帧包括数据和必要的控制信息(如同步信息、地址信息、差错控制等)。**
​		在接收数据时，控制信息使接收端能够知道一个帧从哪个比特开始和到哪个比特结束。这样，数据链路层在收到一个帧后，就可从中提取出数据部分，上交给网络层。



**5、物理层**

​		**在物理层上所传数据的单位是比特。发送方发送`1 (或0)`时，接收方应当收到`1 (或0)`而不是`0 (或1)`。**物理层还要确定连接电缆的插头应当有多少根引脚以及各引脚应如何连接。传递信息所利用的一些物理媒体，如双绞线、同轴电缆、光缆、无线信道等，并不在物理层协议之内而是在物理层协议的下面。



​		在互联网所使用的各种协议中，最重要的和最著名的就是TCP和IP两个协议。现在人们经常提到的TCP/IP并不一定是单指TCP和IP这两个具体的协议，而往往是表示互联网所使用的**整个TCP/IP协议族(protocol suite)。**

------



# 四、TCP/IP的体系结构

​		TCP/IP 的体系结构比较简单，它只有四层。分层次画出具体的协议来表示TCP/IP协议族， 它的特点是上下两头大而中间小：应用层和网络接口层都有多种协议，而中间的IP层很小，上层的各种协议都向下汇聚到一个IP协议中。

​		这种很像沙漏计时器形状的TCP/IP 协议族表明：TCP/IP协议可以为各式各样的应用提供服务， 同时TCP/IP协议也允许IP协议在各式各样的网络构成的互联网上运行。

![image-20230202151358149](https://cdn.jsdelivr.net/gh/xmtxsec/picture/img/202302021513197.png)







